#include "Utilities.h"
#include <Windows.h>
#include <stdio.h>
void EnableDebugConsole() {
	if (AllocConsole()) {
		FILE* fpstdout = stdout;
		FILE* fpstderr = stderr;
		freopen_s(&fpstdout, "CONOUT$", "w", stdout);
		freopen_s(&fpstderr, "CONOUT$", "w", stderr);
        SetWindowText(GetConsoleWindow(), L"MyMalware");
	}
}     


BOOL IsEqualCStr(IN LPCWSTR Str1, IN LPCWSTR Str2) {
    return wcscmp(Str1, Str2) == 0;
}  

BOOL IsWStrEqualCStr(IN LPCWSTR Str1, IN LPCSTR LPCStr2) {
    int requiredSize = MultiByteToWideChar(CP_ACP, 0, LPCStr2, -1, NULL, 0);
    if (requiredSize == 0) {
        // Handle conversion error
        return FALSE;
    }

    wchar_t* wideStr2 = (wchar_t*)malloc(requiredSize * sizeof(wchar_t));
    if (wideStr2 == NULL) {
        // Handle memory allocation error
        return FALSE;
    }

    if (MultiByteToWideChar(CP_ACP, 0, LPCStr2, -1, wideStr2, requiredSize) == 0) {
        // Handle conversion error
        free(wideStr2);
        return FALSE;
    }  

    // Compare the wide character string with Str1
    BOOL result = wcscmp(Str1, wideStr2) == 0;

    free(wideStr2);

    return result;
}
